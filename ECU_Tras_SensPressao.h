/* ECU_Tras_SensPressao.h
 *  Implementação do sensor de pressão.
 *  Autor: Everton A. Gomes
 *  Data: 19/09/2020
*/

#ifndef _ECU_TRAS_SENSPRESSAO_H
#define _ECU_TRAS_SENSPRESSAO_H

//********************************************************************************
//                             #defines
//********************************************************************************

#define ADC_RANGE       4096      //Range do ADC de 12 bits

//********************************************************************************
//                             #includes
//********************************************************************************

#include "ECU_Tras_ADC.h"

//********************************************************************************
//                             Variáveis
//********************************************************************************

float pressao=0;

//********************************************************************************
//                             Funções
//********************************************************************************

void sens_pressao_meas_config(){
  adcConfig();
}

float calcula_pressao(){
  pressao = 12.5*(((float)adcRead())/ADC_RANGE - 0.1);
  return pressao;
}

#endif
